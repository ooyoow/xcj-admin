(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1045:function(t,e,a){"use strict";a.r(e);a(798);var r=a(17),s=a(634),i=a(627),n=a(709),o=a(708),l={data:function(){return{type:1,date:[]}},props:{title:{type:String,default:""},onRadioChange:{type:Function},onDateChange:{type:Function}}},c=a(13),d=Object(c.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title",domProps:{textContent:t._s(t.title)}}),t._v(" "),a("div",{staticClass:"bar"},[a("el-radio-group",{on:{change:t.onRadioChange},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:1}},[t._v("今日")]),t._v(" "),a("el-radio-button",{attrs:{label:2}},[t._v("本周")]),t._v(" "),a("el-radio-button",{attrs:{label:3}},[t._v("本月")])],1),t._v(" "),a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.onDateChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])},[],!1,null,null,null);d.options.__file="stats.vue";var u=d.exports,p={props:{title:{type:String},count:{type:Number},trend:{type:String},trendRatio:{type:String},compareName:{type:String}}},v=Object(c.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-text",domProps:{textContent:t._s(t.title)}}),t._v(" "),a("div",{staticClass:"card-count",domProps:{textContent:t._s(t.count)}}),t._v(" "),a("div",[a("span",[a("span",{class:t.trendRatio.includes("-")?"card-ratio-down":"card-ratio-up",domProps:{textContent:t._s(t.trendRatio||"0%")}})]),t._v(" "),a("span",{staticClass:"card-text",domProps:{textContent:t._s(t.compareName)}})])])},[],!1,null,null,null);v.options.__file="asideCard.vue";var h=v.exports,m=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],f=a(15);function y(t,e){if(null==t)return{};var a,r,s=function(t,e){if(null==t)return{};var a,r,s={},i=Object.keys(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||(s[a]=t[a]);return s}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),r.forEach(function(e){b(t,e,a[e])})}return t}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={name:"order",components:{LineChart:n.a,Bar:o.a,Stats:u,AsideCard:h},data:function(){var t=this;return{orderInfo:{},orderView:{},userView:{},paidOrder:this.defaultOrderDetail(),unpaymentOrder:this.defaultOrderDetail(),completedOrder:this.defaultOrderDetail(),cancelledOrder:this.defaultOrderDetail(),queryOrderStatsParams:{type:"今日",date:[]},querySalesStatsParams:{type:"今日",date:[]},productSalesParams:{type:1,date:[]},productSalesChartOption:{color:["#c5c8ce","#2db7f5"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e,a,r){return"<div>\n                        <div>".concat(e[0].name,'</div>\n                        <div>\n                          <span style="display: inline-block;margin-right: 5px; border-radius: 10px;width: 10px; height: 10px; background-color: ').concat(e[1].color,';"></span>\n                          <span>                           \n                            余额：¥').concat(e[1].data,"，\n                            剩余次数：").concat(t.realTimeSalesUnUsedNo[e[1].dataIndex],'\n                          </span>\n                        </div>\n                        <div>\n                          <span style="display: inline-block;margin-right: 5px; border-radius: 10px;width: 10px; height: 10px; background-color: ').concat(e[0].color,';"></span>\n                          <span>                           \n                            服务额：¥').concat(e[0].data,"，\n                            使用次数：").concat(t.realTimeSalesUsedNo[e[0].dataIndex],"\n                          </span>\n                        </div>                        \n                      </div>")}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",name:"（元）"}],series:[]},realTimeSalesUsedNo:[],realTimeSalesUnUsedNo:[],orderStats:this.initStatsData(),salesStats:this.initStatsData(),washStats:this.initStatsData(),serviceStats:this.initStatsData(),profitStats:this.initStatsData(),formWashParams:this.initFromSearchParams(),formServiceParams:this.initFromSearchParams(),formProfitParams:this.initFromSearchParams()}},mounted:function(){this.initData()},computed:g({},Object(r.c)({orgOptions:function(t){return t.common.orgOptions}})),methods:g({},Object(r.b)(["getOrderInfo","getuserView","getOrgOptions"]),{onOrderRadioChange:function(t){this.queryOrderStats(t)},onOrderDateChange:function(t){t&&this.getOrderStats(4,t[0],t[1])},onSalesRadioChange:function(t){this.querySalesStats(t)},onSalesDateChange:function(t){t&&this.querySalesStats(4,t[0],t[1])},onWashRadioChange:function(t){this.queryWashStats(1,t)},onWashDateChange:function(t){t&&this.queryWashStats(this.formWashParams.storeId,4,t[0],t[1])},onServiceRadioChange:function(t){this.queryServiceStats(1,t)},onServiceDateChange:function(t){t&&this.queryServiceStats(this.formServiceParams.storeId,4,t[0],t[1])},onProfitRadioChange:function(t){this.queryProfitStats(1,t)},onProfitDateChange:function(t){t&&this.queryProfitStats(this.formProfitParams.storeId,4,t[0],t[1])},onOrgOptionChange:function(t,e){var a=this;this.queryStoreOptions(e,function(e){switch(t){case"wash":a.formWashParams.storeOptions=e;break;case"service":a.formServiceParams.storeOptions=e;break;case"profit":a.formProfitParams.storeOptions=e}})},onProductSalesRadioChange:function(t){this.getProductSales(t)},onProductSalesDateChange:function(t){this.getProductSales(this.productSalesParams.type,t[0],t[1])},queryOrderStats:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(function(t,e,a){return Object(f.a)({url:"/api/v1/summary/orderstatic",method:"get",params:{type:t,start:e,end:a}})})(t,a,r).then(function(s){var i=s.resultObj,n=i.staticList,o=(i.sumList,y(i,["staticList","sumList"]));if(i&&n&&Array.isArray(n)){var l=e.calcStatsData(t,n,a,r);e.orderStats=g({},l,o)}})},querySalesStats:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(function(t,e,a){return Object(f.a)({url:"/api/v1/summary/salestatic",method:"get",params:{type:t,start:e,end:a}})})(t,a,r).then(function(s){var i=s.resultObj,n=(i.staticList,i.sumList),o=y(i,["staticList","sumList"]);if(i&&n&&Array.isArray(n)){var l=e.calcStatsData(t,n,a,r);e.salesStats=g({},l,o)}})},queryWashStats:function(t,e){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(function(t,e,a,r){return Object(f.a)({url:"/api/v1/summary/washstatic",method:"get",params:{storeId:t,type:e,start:a,end:r}})})(t,e,r,s).then(function(t){var i=t.resultObj,n=i.staticList,o=(i.sumList,y(i,["staticList","sumList"]));if(i&&n&&Array.isArray(n)){var l=a.calcStatsData(e,n,r,s);a.washStats=g({},l,o)}})},queryServiceStats:function(t,e){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(function(t,e,a,r){return Object(f.a)({url:"/api/v1/summary/servicestatic",method:"get",params:{storeId:t,type:e,start:a,end:r}})})(t,e,r,s).then(function(t){var i=t.resultObj,n=(i.staticList,i.sumList),o=y(i,["staticList","sumList"]);if(i&&n&&Array.isArray(n)){var l=a.calcStatsData(e,n,r,s);a.serviceStats=g({},l,o)}})},queryProfitStats:function(t,e){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(function(t,e,a,r){return Object(f.a)({url:"/api/v1/summary/profitstatic",method:"get",params:{storeId:t,type:e,start:a,end:r}})})(t,e,r,s).then(function(t){var i=t.resultObj,n=(i.staticList,i.sumList),o=y(i,["staticList","sumList"]);if(i&&n&&Array.isArray(n)){var l=a.calcStatsData(e,n,r,s);a.profitStats=g({},l,o)}})},getProductSales:function(t){var e=this;(function(t,e,a){return Object(f.a)({url:"/api/v1/summary/realtimesales",method:"get",params:{type:t,start:e,end:a}})})(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"").then(function(t){var a=t.resultObj,r=[],s=[],i=[],n=[{type:"bar",stack:"realTimeSales",data:[]},{type:"bar",stack:"realTimeSales",data:[]}];a&&Array.isArray(a)&&a.forEach(function(t,e){var a=t.pName,o=t.usedCount,l=t.unUsedCount,c=t.serverAmount,d=t.unServerAmount;i.push(a),r.push(o),s.push(l),n[0].data.push(c),n[1].data.push(d)}),e.realTimeSalesUsedNo=r,e.realTimeSalesUnUsedNo=s,e.productSalesChartOption.xAxis[0].data=i,e.productSalesChartOption.series=n})},queryStoreOptions:function(t,e){(function(t){return Object(f.a)({url:"/api/v1/store/queryStoreInfoList",method:"get",params:{organizationId:t}})})(t).then(function(t){var a=t.resultObj,r=[];a&&Array.isArray(a)&&(r=a),e(r)})},loadOrderDetail:function(t){var e=this;(function(t){return Object(f.a)({url:"/api/v1/summary/orderDetail",method:"get",params:{orderStatus:t}})})(t).then(function(a){var r=a.resultObj;switch(t){case"paidOrder":e.paidOrder=g({},e.paidOrder,{currentPage:1,list:r||[],total:r?r.length:0});break;case"unpaymentOrder":e.unpaymentOrder=g({},e.unpaymentOrder,{list:r||[],total:r?r.length:0});break;case"completedOrder":e.completedOrder=g({},e.completedOrder,{list:r||[],total:r?r.length:0});break;case"cancelledOrder":e.cancelledOrder=g({},e.cancelledOrder,{list:r||[],total:r?r.length:0})}})},handleCurrentChange:function(t,e){switch(e){case"paidOrder":this.paidOrder.currentPage=t;break;case"unpaymentOrder":this.unpaymentOrder.currentPage=t;break;case"completedOrder":this.completedOrder.currentPage=t;break;case"cancelledOrder":this.cancelledOrder.currentPage=t}},calcStatsData:function(t,e,a,r){var n,o=[],l=[];switch(t){case 1:(l=Array.from(m)).forEach(function(){o.push(0)});break;case 2:case 3:2===t&&(n=6),3===t&&(n=30),(l=Object(i.d)(+Object(s.subDays)(new Date,n),+new Date)).forEach(function(){o.push(0)});break;case 4:(l=Object(i.d)(+new Date(a),+new Date(r))).forEach(function(){o.push(0)})}return e.forEach(function(e){var a=e.axis,r=e.totalcount;1===t?o[+a]=r:o[l.indexOf(a)]=r}),{xAxisData:l,seriesData:o}},calcOrderList:function(t){var e=t.list,a=t.currentPage,r=t.size;return e.slice((a-1)*r,a*r)},formatTime:function(t,e,a){return Object(i.c)(a)},defaultOrderDetail:function(){return{currentPage:1,size:5,list:[],total:0}},initStatsData:function(){return{xAxisData:m,seriesData:[],lastMonth:0,lastWeek:0,presentMonth:0,presentWeek:0,ratioMonth:"0%",ratioWeek:"0%"}},initFromSearchParams:function(){return{organizationId:"",storeId:"",storeOptions:[]}},initData:function(){var t=this;Object(f.a)({method:"get",url:"/api/v1/summary/topInfo"}).then(function(e){t.orderInfo=e.resultObj}),Object(f.a)({url:"/api/v1/summary/overview",method:"get"}).then(function(e){t.orderView=e.resultObj}),Object(f.a)({method:"get",url:"/api/v1/user/countUserInfo"}).then(function(e){t.userView=e.resultObj}),this.getProductSales(1),this.queryOrderStats(1),this.querySalesStats(1),this.getOrgOptions(function(e){if(Array.isArray(e)&&e.length){var a=e[0].organizationId;t.queryStoreOptions(a,function(e){if(e.length){var r=e[0].storeId,s=function(){return{organizationId:a,storeId:r,storeOptions:e}};t.formWashParams=s(),t.formServiceParams=s(),t.formProfitParams=s(),t.queryWashStats(r,1),t.queryServiceStats(r,1),t.queryProfitStats(r,1)}})}})}})},C=Object(c.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview xcj-order"},[a("el-row",{staticClass:"group-card",attrs:{gutter:12}},[a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"order-wrap",attrs:{shadow:"always"}},[a("div",{staticClass:"data-overview"},[a("div",{staticClass:"title"},[t._v("今日订单（笔）")]),t._v(" "),a("div",{staticClass:"today-count"},[t._v(t._s(t.orderInfo.todayPayRecd||0))]),t._v(" "),a("div",{staticClass:"yesterday-count"},[t._v("昨日："+t._s(t.orderInfo.yesterdayPayRecd||0))]),t._v(" "),a("div",{staticClass:"seven-days-count"},[t._v("近七天："+t._s(t.orderInfo.last7DayPayRecd||0))])])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"wash-wrap",attrs:{shadow:"always"}},[a("div",{staticClass:"data-overview"},[a("div",{staticClass:"title"},[t._v("今日洗车量（辆）")]),t._v(" "),a("div",{staticClass:"today-count"},[t._v(t._s(t.orderInfo.todayWash||0))]),t._v(" "),a("div",{staticClass:"yesterday-count"},[t._v("昨日："+t._s(t.orderInfo.yesterdayWash||0))]),t._v(" "),a("div",{staticClass:"seven-days-count"},[t._v("近七天："+t._s(t.orderInfo.last7DayWash||0))])])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"sale-wrap",attrs:{shadow:"always"}},[a("div",{staticClass:"data-overview"},[a("div",{staticClass:"title"},[t._v("今日销售额（元）")]),t._v(" "),a("div",{staticClass:"today-count"},[t._v(t._s(t.orderInfo.salesToday||0))]),t._v(" "),a("div",{staticClass:"yesterday-count"},[t._v("昨日："+t._s(t.orderInfo.salesYesterday||0))]),t._v(" "),a("div",{staticClass:"seven-days-count"},[t._v("近七天："+t._s(t.orderInfo.salesLast7Day||0))])])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"service-wrap",attrs:{shadow:"always"}},[a("div",{staticClass:"data-overview"},[a("div",{staticClass:"title"},[t._v("今日服务额（元）")]),t._v(" "),a("div",{staticClass:"today-count"},[t._v(t._s(t.orderInfo.serveToday||0))]),t._v(" "),a("div",{staticClass:"yesterday-count"},[t._v("昨日："+t._s(t.orderInfo.serveYesterday||0))]),t._v(" "),a("div",{staticClass:"seven-days-count"},[t._v("近七天："+t._s(t.orderInfo.serveLast7Day||0))])])])],1)],1),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("订单总览")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"50px"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"order-data"},[a("div",[t._v("已付款订单")]),t._v(" "),a("div",[a("el-popover",{attrs:{placement:"right",trigger:"hover"},on:{show:function(e){t.loadOrderDetail("paidOrder")}}},[a("div",[a("el-table",{attrs:{data:t.calcOrderList(t.paidOrder)}},[a("el-table-column",{attrs:{align:"center",property:"userName",label:"用户"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",property:"carNo",label:"车牌"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"pname",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"marketPrice",label:"市场价"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"payMoney",label:"售价"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",property:"payTime",label:"支付时间",formatter:t.formatTime}})],1),t._v(" "),a("br"),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.paidOrder.currentPage,"page-size":t.paidOrder.size,layout:"total, prev, pager, next, jumper",total:t.paidOrder.total},on:{"current-change":function(e){t.handleCurrentChange(e,"paidOrder")}}})],1),t._v(" "),a("span",{staticClass:"number",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.orderView.paidOrder||0))])])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"order-data"},[a("div",[t._v("待付款订单")]),t._v(" "),a("div",[a("el-popover",{attrs:{placement:"right",trigger:"hover"},on:{show:function(e){t.loadOrderDetail("unpaymentOrder")}}},[a("div",[a("el-table",{attrs:{data:t.calcOrderList(t.unpaymentOrder)}},[a("el-table-column",{attrs:{align:"center",property:"userName",label:"用户"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",property:"carNo",label:"车牌"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"pname",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"marketPrice",label:"市场价"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"payMoney",label:"售价"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",property:"payTime",label:"下单时间",formatter:t.formatTime}})],1),t._v(" "),a("br"),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.unpaymentOrder.currentPage,"page-size":t.unpaymentOrder.size,layout:"total, prev, pager, next, jumper",total:t.unpaymentOrder.total},on:{"current-change":function(e){t.handleCurrentChange(e,"unpaymentOrder")}}})],1),t._v(" "),a("span",{staticClass:"number",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.orderView.unpaymentOrder||0))])])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"order-data"},[a("div",[t._v("服务订单")]),t._v(" "),a("div",[a("el-popover",{attrs:{placement:"right",trigger:"hover"},on:{show:function(e){t.loadOrderDetail("completedOrder")}}},[a("div",[a("el-table",{attrs:{data:t.calcOrderList(t.completedOrder)}},[a("el-table-column",{attrs:{align:"center",property:"userName",label:"用户"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",property:"carNo",label:"车牌"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"pname",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"marketPrice",label:"市场价"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"payMoney",label:"售价"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",property:"storeName",label:"洗车门店"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",property:"usetime",label:"洗车时间",formatter:t.formatTime}})],1),t._v(" "),a("br"),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.completedOrder.currentPage,"page-size":t.completedOrder.size,layout:"total, prev, pager, next, jumper",total:t.completedOrder.total},on:{"current-change":function(e){t.handleCurrentChange(e,"completedOrder")}}})],1),t._v(" "),a("span",{staticClass:"number",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.orderView.completedOrder||0))])])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"order-data"},[a("div",[t._v("已取消订单")]),t._v(" "),a("div",[a("el-popover",{attrs:{placement:"right",trigger:"hover"},on:{show:function(e){t.loadOrderDetail("cancelledOrder")}}},[a("div",[a("el-table",{attrs:{data:t.calcOrderList(t.cancelledOrder)}},[a("el-table-column",{attrs:{property:"userName",label:"用户"}}),t._v(" "),a("el-table-column",{attrs:{property:"carNo",label:"车牌"}}),t._v(" "),a("el-table-column",{attrs:{property:"pname",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"marketPrice",label:"市场价"}}),t._v(" "),a("el-table-column",{attrs:{property:"payMoney",label:"售价"}}),t._v(" "),a("el-table-column",{attrs:{property:"cancelTime",label:"取消时间",formatter:t.formatTime}})],1),t._v(" "),a("br"),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.cancelledOrder.currentPage,"page-size":t.cancelledOrder.size,layout:"total, prev, pager, next, jumper",total:t.cancelledOrder.total},on:{"current-change":function(e){t.handleCurrentChange(e,"cancelledOrder")}}})],1),t._v(" "),a("span",{staticClass:"number",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.orderView.refundedOrder||0))])])],1)])])],1)])],1),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("用户总览")]),t._v(" "),a("div",{staticClass:"content",staticStyle:{"margin-bottom":"20px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"user-data"},[a("div",{staticClass:"number"},[t._v(t._s(t.userView.todayCount))]),t._v(" "),a("div",{staticClass:"type"},[t._v("今日新增")])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"user-data"},[a("div",{staticClass:"number"},[t._v(t._s(t.userView.allCount))]),t._v(" "),a("div",{staticClass:"type"},[t._v("会员总数")])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"user-data"},[a("div",{staticClass:"number"},[t._v(t._s(t.userView.continuedUser))]),t._v(" "),a("div",{staticClass:"type"},[t._v("续卡会员")])])])],1)],1)]),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("产品实时销量")]),t._v(" "),a("div",{staticClass:"product-sales"},[a("div",{staticClass:"actions"},[a("el-radio-group",{on:{change:t.onProductSalesRadioChange},model:{value:t.productSalesParams.type,callback:function(e){t.$set(t.productSalesParams,"type",e)},expression:"productSalesParams.type"}},[a("el-radio-button",{attrs:{label:0}},[t._v("套餐卡")]),t._v(" "),a("el-radio-button",{attrs:{label:1}},[t._v("次卡")]),t._v(" "),a("el-radio-button",{attrs:{label:2}},[t._v("优惠券")])],1),t._v(" "),a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.onProductSalesDateChange},model:{value:t.productSalesParams.date,callback:function(e){t.$set(t.productSalesParams,"date",e)},expression:"productSalesParams.date"}})],1),t._v(" "),a("bar",{attrs:{height:"300px",width:"100%",option:t.productSalesChartOption}})],1)])],1),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("订单统计")]),t._v(" "),a("div",{staticClass:"data-stats"},[a("div",{staticClass:"aside"},[a("aside-card",{attrs:{title:"本月订单总数",count:t.orderStats.presentMonth,trend:"up",trendRatio:t.orderStats.ratioMonth,compareName:"同比上月"}}),t._v(" "),a("aside-card",{attrs:{title:"本周订单数量",count:t.orderStats.presentWeek,trend:"up",trendRatio:t.orderStats.ratioWeek,compareName:"同比上周"}})],1),t._v(" "),a("div",{staticClass:"chart"},[a("stats",{staticClass:"bar",attrs:{title:"订单统计",onRadioChange:t.onOrderRadioChange,onDateChange:t.onOrderDateChange}}),t._v(" "),a("line-chart",{attrs:{height:"300px",width:"100%",yAxisName:"（笔）",xAxisData:t.orderStats.xAxisData,seriesData:t.orderStats.seriesData}})],1)])])],1),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("销售统计")]),t._v(" "),a("div",{staticClass:"data-stats"},[a("div",{staticClass:"aside"},[a("aside-card",{attrs:{title:"本月销售总额",count:t.salesStats.presentMonth,trend:"up",trendRatio:t.salesStats.ratioMonth,compareName:"同比上月"}}),t._v(" "),a("aside-card",{attrs:{title:"本周销售总额",count:t.salesStats.presentWeek,trend:"up",trendRatio:t.salesStats.ratioWeek,compareName:"同比上周"}})],1),t._v(" "),a("div",{staticClass:"chart"},[a("stats",{staticClass:"bar",attrs:{title:"销售统计",onRadioChange:t.onSalesRadioChange,onDateChange:t.onSalesDateChange}}),t._v(" "),a("line-chart",{attrs:{yAxisName:"（元）",height:"300px",width:"100%",xAxisData:t.salesStats.xAxisData,seriesData:t.salesStats.seriesData}})],1)])])],1),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("洗车量统计")]),t._v(" "),a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.formWashParams}},[a("el-form-item",{attrs:{label:"所有者"}},[a("el-select",{attrs:{placeholder:"请选择所有者"},on:{change:function(e){t.onOrgOptionChange("wash",t.formWashParams.organizationId)}},model:{value:t.formWashParams.organizationId,callback:function(e){t.$set(t.formWashParams,"organizationId",e)},expression:"formWashParams.organizationId"}},t._l(t.orgOptions,function(t){return a("el-option",{key:t.organizationId,attrs:{label:t.ownerName,value:t.organizationId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"门店"}},[a("el-select",{attrs:{placeholder:"请选择门店"},model:{value:t.formWashParams.storeId,callback:function(e){t.$set(t.formWashParams,"storeId",e)},expression:"formWashParams.storeId"}},t._l(t.formWashParams.storeOptions,function(t){return a("el-option",{key:t.storeId,attrs:{label:t.storeName,value:t.storeId}})}))],1)],1),t._v(" "),a("div",{staticClass:"data-stats"},[a("div",{staticClass:"aside"},[a("aside-card",{attrs:{title:"本月洗车总量",count:t.washStats.presentMonth,trend:"up",trendRatio:t.washStats.ratioMonth,compareName:"同比上月"}}),t._v(" "),a("aside-card",{attrs:{title:"本周洗车总量",count:t.washStats.presentWeek,trend:"up",trendRatio:t.washStats.ratioWeek,compareName:"同比上周"}})],1),t._v(" "),a("div",{staticClass:"chart"},[a("stats",{staticClass:"bar",attrs:{title:"洗车量统计",onRadioChange:t.onWashRadioChange,onDateChange:t.onWashDateChange}}),t._v(" "),a("line-chart",{attrs:{yAxisName:"（辆）",height:"300px",width:"100%",xAxisData:t.washStats.xAxisData,seriesData:t.washStats.seriesData}})],1)])],1)],1),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("服务额统计")]),t._v(" "),a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.formServiceParams}},[a("el-form-item",{attrs:{label:"所有者"}},[a("el-select",{attrs:{placeholder:"请选择所有者"},on:{change:function(e){t.onOrgOptionChange("service",t.formServiceParams.organizationId)}},model:{value:t.formServiceParams.organizationId,callback:function(e){t.$set(t.formServiceParams,"organizationId",e)},expression:"formServiceParams.organizationId"}},t._l(t.orgOptions,function(t){return a("el-option",{key:t.organizationId,attrs:{label:t.ownerName,value:t.organizationId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"门店"}},[a("el-select",{attrs:{placeholder:"请选择门店"},model:{value:t.formServiceParams.storeId,callback:function(e){t.$set(t.formServiceParams,"storeId",e)},expression:"formServiceParams.storeId"}},t._l(t.formServiceParams.storeOptions,function(t){return a("el-option",{key:t.storeId,attrs:{label:t.storeName,value:t.storeId}})}))],1)],1),t._v(" "),a("div",{staticClass:"data-stats"},[a("div",{staticClass:"aside"},[a("aside-card",{attrs:{title:"本月服务额",count:t.serviceStats.presentMonth,trend:"up",trendRatio:t.serviceStats.ratioMonth,compareName:"同比上月"}}),t._v(" "),a("aside-card",{attrs:{title:"本周服务额",count:t.serviceStats.presentWeek,trend:"up",trendRatio:t.serviceStats.ratioWeek,compareName:"同比上周"}})],1),t._v(" "),a("div",{staticClass:"chart"},[a("stats",{staticClass:"bar",attrs:{title:"服务额统计",onRadioChange:t.onServiceRadioChange,onDateChange:t.onServiceDateChange}}),t._v(" "),a("line-chart",{attrs:{yAxisName:"（元）",height:"300px",width:"100%",xAxisData:t.serviceStats.xAxisData,seriesData:t.serviceStats.seriesData}})],1)])],1)],1),t._v(" "),a("el-row",[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{staticClass:"header"},[t._v("分润统计")]),t._v(" "),a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.formProfitParams}},[a("el-form-item",{attrs:{label:"所有者"}},[a("el-select",{attrs:{placeholder:"请选择所有者"},on:{change:function(e){t.onOrgOptionChange("profit",t.formProfitParams.organizationId)}},model:{value:t.formProfitParams.organizationId,callback:function(e){t.$set(t.formProfitParams,"organizationId",e)},expression:"formProfitParams.organizationId"}},t._l(t.orgOptions,function(t){return a("el-option",{key:t.organizationId,attrs:{label:t.ownerName,value:t.organizationId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"门店"}},[a("el-select",{attrs:{placeholder:"请选择门店"},model:{value:t.formProfitParams.storeId,callback:function(e){t.$set(t.formProfitParams,"storeId",e)},expression:"formProfitParams.storeId"}},t._l(t.formProfitParams.storeOptions,function(t){return a("el-option",{key:t.storeId,attrs:{label:t.storeName,value:t.storeId}})}))],1)],1),t._v(" "),a("div",{staticClass:"data-stats"},[a("div",{staticClass:"aside"},[a("aside-card",{attrs:{title:"本月分润额",count:t.profitStats.presentMonth,trend:"up",trendRatio:t.profitStats.ratioMonth,compareName:"同比上月"}}),t._v(" "),a("aside-card",{attrs:{title:"本周分润额",count:t.profitStats.presentWeek,trend:"up",trendRatio:t.profitStats.ratioWeek,compareName:"同比上周"}})],1),t._v(" "),a("div",{staticClass:"chart"},[a("stats",{staticClass:"bar",attrs:{title:"分润统计",onRadioChange:t.onProfitRadioChange,onDateChange:t.onProfitDateChange}}),t._v(" "),a("line-chart",{attrs:{yAxisName:"（元）",height:"300px",width:"100%",xAxisData:t.profitStats.xAxisData,seriesData:t.profitStats.seriesData}})],1)])],1)],1)],1)},[],!1,null,null,null);C.options.__file="index.vue";e.default=C.exports},627:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"d",function(){return n}),a.d(e,"a",function(){return o}),a.d(e,"c",function(){return l});var r=a(634);function s(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,i;return e=t,i=[{key:"format",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return t&&"number"==typeof t?Object(r.format)(t,e):""}}],(a=null)&&s(e.prototype,a),i&&s(e,i),t}(),n=function(t,e){for(var a=[],s=t;s<=e;)a.push(Object(r.format)(s,"YYYY-MM-DD")),s+=864e5;return a},o=function(t){for(var e=[],a=1;a<13;a++)a<10?e.push("".concat(t,"-0").concat(a)):e.push("".concat(t,"-").concat(a));return e},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return t&&"number"==typeof t?Object(r.format)(t,e):""}},647:function(t,e,a){"use strict";var r=a(630),s=a.n(r);a(775),a(785),a(786),a(787),a(791);e.a=s.a},653:function(t,e,a){"use strict";var r=a(86);e.a={mounted:function(){var t=this;this.resizeHanlder=Object(r.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.resizeHanlder)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHanlder)}}},708:function(t,e,a){"use strict";var r=a(647),s={mixins:[a(653).a],name:"bar",props:{width:{type:String,default:"200px"},height:{type:String,default:"200px"},option:{type:Object,default:{}}},data:function(){return{chart:null,chartOption:{}}},mounted:function(){this.initChart()},beforeUpdate:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$refs.bar),this.chart.setOption(this.option)}},watch:{option:{handler:function(t,e){this.chart?t?this.chart.setOption(t):this.chart.setOption(e):this.initChart()},deep:!0}}},i=a(13),n=Object(i.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"bar",style:{height:this.height,width:this.width}})},[],!1,null,null,null);n.options.__file="bar.vue";e.a=n.exports},709:function(t,e,a){"use strict";var r=a(647),s={mixins:[a(653).a],props:{title:{type:String,default:""},width:{type:String,default:"200px"},height:{type:String,default:"200px"},yAxisName:{type:String,default:""},xAxisData:{type:Array,default:function(){return[]}},seriesData:{type:Array,default:function(){return[]}}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeUpdate:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$refs.line),this.chart.setOption({backgroundColor:"#fff",tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#57617B"}}},grid:{top:30,left:10,right:"4%",bottom:"2%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#57617B"}},data:this.xAxisData}],yAxis:[{type:"value",name:this.yAxisName}],series:[{type:"line",smooth:!0,symbol:"circle",symbolSize:5,showSymbol:!1,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new r.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(137, 189, 27, 0.3)"},{offset:.8,color:"rgba(137, 189, 27, 0)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(137,189,27)",borderColor:"rgba(137,189,2,0.27)",borderWidth:12}},data:this.seriesData}]})}}},i=a(13),n=Object(i.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"line",style:{height:this.height,width:this.width},attrs:{xAxisData:this.seriesData}})},[],!1,null,null,null);n.options.__file="line.vue";e.a=n.exports},798:function(t,e,a){var r=a(799);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(2).default)("6948bb01",r,!0,{})},799:function(t,e,a){}}]);