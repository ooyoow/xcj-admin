(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1004:function(e,t,r){var o=r(1005);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(2).default)("7e3c11a1",o,!0,{})},1005:function(e,t,r){},1050:function(e,t,r){"use strict";r.r(t);var o=r(17),a=r(627),s=r(86),i=(r(1004),r(15));function n(e,t){if(null==e)return{};var r,o,a=function(e,t){if(null==e)return{};var r,o,a={},s=Object.keys(e);for(o=0;o<s.length;o++)r=s[o],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){c(e,t,r[t])})}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r(115),p={name:"store",data:function(){return{prefixCls:"xcj-store",baseUrl:u.baseUrl,formSearch:{storeName:"",state:"",sort:""},listQuery:{currentPage:1,size:10},listLoading:!1,storeList:[],total:0,deletePopover:new Map,terminalUnboundOptios:[],dialogVisible:!1,dialogStatus:"create",dialogType:{create:"新增",update:"编辑"},statusOptions:[{label:"营业",value:"business"},{label:"暂停营业",value:"suspend"},{label:"在建",value:"build"}],rules:{storeName:[{required:!0,message:"门店名称不能为空",trigger:"change"}],storeManager:[{required:!0,message:"店长不能为空",trigger:"change"}],state:[{required:!0,message:"门店状态不能为空",trigger:"change"}],storePro:[{required:!0,message:"省份不能为空",trigger:"change"}],storeCity:[{required:!0,message:"城市不能为空",trigger:"change"}],address:[{required:!0,message:"地址不能为空",trigger:"change"}],ownerList:[{required:!0,message:"所有者不能为空",trigger:"change"}]},storeTemp:this.defaultStoreTemp(),storeIconFile:[],storeImgFile:[],dialogOwnerVisible:!1,ownerProfitList:[]}},created:function(){this.queryStoreList()},computed:l({},Object(o.c)({orgOptions:function(e){return e.common.orgOptions}})),methods:l({},Object(o.b)(["getOrgOptions"]),{queryStoreList:function(){var e=this,t=Object.assign({},this.formSearch,this.listQuery);this.listLoading=!0,function(e){return Object(i.a)({url:"/api/v1/store/queryStoreList",method:"get",params:e})}(t).then(function(t){e.listLoading=!1;var r=t.resultObj,o=t.totalSize;e.storeList=r,e.total=o}).catch(function(t){e.listLoading=!1})},queryTerminalUnbound:function(e){Object(i.a)({url:"/api/v1/driver/queryDriverUnbound",method:"get"}).then(function(t){var r=t.resultObj,o=[];r&&Array.isArray(r)&&(o=r.map(function(e){return e.driverid})),e&&"function"==typeof e&&e(o)})},handleCurrentChange:function(e){this.listQuery.currentPage=e,this.queryStoreList()},handleSizeChange:function(e){this.listQuery.size=e,this.queryStoreList()},handleSearch:function(){this.queryStoreList()},handleCreate:function(){var e=this;this.storeTemp=this.defaultStoreTemp(),this.dialogStatus="create",this.dialogVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()}),this.getOrgOptions(),this.queryTerminalUnbound(function(t){e.terminalUnboundOptios=t})},handleUpdate:function(e){var t=this;this.dialogStatus="update",this.dialogVisible=!0;var r=e.driverid,o=e.ownerList,a=e.storeIcon,i=e.storeImg,c=n(e,["driverid","ownerList","storeIcon","storeImg"]);this.storeIconFile=a?[{name:Object(s.d)(a),url:a}]:[],this.storeImgFile=i?[{name:Object(s.d)(i),url:i}]:[];var u=r?r.split(","):[],p=o&&Array.isArray(o)?o.map(function(e){return e.organizationId}):[];this.storeTemp=l({driverid:u,ownerList:p},c),this.$nextTick(function(){t.$refs.dataForm.clearValidate()}),this.getOrgOptions(),this.queryTerminalUnbound(function(e){t.terminalUnboundOptios=u.concat(e)})},handleDelete:function(e){var t=this;(function(e){return Object(i.a)({url:"/api/v1/store/deleteStore",method:"post",data:{storeId:e}})})(e).then(function(r){var o=!0,a=!1,s=void 0;try{for(var i,n=t.storeList[Symbol.iterator]();!(o=(i=n.next()).done);o=!0){var l=i.value;if(l.storeId===e){var c=t.storeList.indexOf(l);t.storeList.splice(c,1),t.$message({message:"删除成功",type:"success"});break}}}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}})},handleSelectOwner:function(e){if(e.length>this.storeTemp.fractions.length){var t=this.orgOptions.find(function(t){return t.organizationId===e[e.length-1]});t&&this.storeTemp.fractions.push(l({},t,{value:""}))}else this.storeTemp.fractions=this.storeTemp.fractions.filter(function(t){return e.includes(t.organizationId)})},handleRemoveOwner:function(e){this.storeTemp.fractions=this.storeTemp.fractions.filter(function(t){return t.organizationId!==e})},handleOwnerProfit:function(e){var t=this;this.dialogOwnerVisible=!0,function(e){return Object(i.a)({url:"/api/v1/store/queryOwnerByStoreId",method:"get",params:{storeId:e}})}(e).then(function(e){var r=e.resultObj;t.ownerProfitList=r.map(function(e){return t.$set(e,"edit",!1),e.originalRate=e.rate,e}),console.log(t.ownerProfitList,"this.ownerProfitList")})},confirmEditProfit:function(e){var t,r=e.storeId,o=e.organizationId,a=e.rate,s=(e.originalRate,{storeId:r,organizationId:o,rate:a});console.log(s,"params"),(t=s,Object(i.a)({url:"/api/v1/store/setRate",method:"post",data:t})).then(function(t){e.originalRate=a,e.edit=!1})},cancelEditProfit:function(e){e.rate=e.originalRate,e.edit=!1},createStore:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){var r=e.storeTemp,o=(r.driverid,r.ownerList),a=l({},n(r,["driverid","ownerList"]),{driverid:e.storeTemp.driverid.toString(),ownerList:e.orgOptions.filter(function(e){return o.includes(e.organizationId)})});(function(e){return Object(i.a)({url:"/api/v1/store/addStore",method:"post",data:e})})(a).then(function(t){e.storeList.unshift(a),e.dialogVisible=!1,e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})})}})},updateStore:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){var r=e.storeTemp,o=(r.driverid,r.ownerList),a=n(r,["driverid","ownerList"]),s=l({driverid:e.storeTemp.driverid.toString(),ownerList:e.orgOptions.filter(function(e){return o.includes(e.organizationId)})},a);(function(e){return Object(i.a)({url:"/api/v1/store/editStore",method:"post",data:e})})(s).then(function(t){var r=!0,o=!1,a=void 0;try{for(var i,n=e.storeList[Symbol.iterator]();!(r=(i=n.next()).done);r=!0){var l=i.value;if(l.storeId===s.storeId){var c=e.storeList.indexOf(l);e.storeList.splice(c,1,s);break}}}catch(e){o=!0,a=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw a}}e.dialogVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})}})},onSuccessStoreIcon:function(e,t,r){this.storeTemp.storeIcon=e.resultObj,this.$refs.storeIcon.clearValidate()},onSuccessStoreImg:function(e,t,r){this.storeTemp.storeImg=e.resultObj,this.$refs.storeImg.clearValidate()},onUploadError:function(e,t,r){this.$message({message:e.message||"服务异常",type:"error"})},defaultStoreTemp:function(){return{address:"",advertisement:"",createTime:"",driverid:"",remarks:"",state:"",storeCity:"",storeDesc:"",storeIcon:"",storeImg:"",storeLocationX:"",storeLocationY:"",storeManager:"",storeName:"",storeId:"",storePro:"",ownerList:[],fractions:[]}},formatTime:function(e,t,r){return a.b.format(r)},formatOwner:function(e,t,r){if(r&&Array.isArray(r))return r.map(function(e){return e.ownerName}).toString()}})},m=r(13),f=Object(m.a)(p,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.prefixCls},[r("el-form",{attrs:{inline:!0,model:e.formSearch}},[r("el-form-item",{attrs:{label:"门店名称"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入门店名称搜索"},model:{value:e.formSearch.storeName,callback:function(t){e.$set(e.formSearch,"storeName",t)},expression:"formSearch.storeName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"门店状态"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择门店状态"},model:{value:e.formSearch.state,callback:function(t){e.$set(e.formSearch,"state",t)},expression:"formSearch.state"}},e._l(e.statusOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v("添加")])],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],class:e.prefixCls+"-table",attrs:{data:e.storeList,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{prop:"storeId",label:"门店ID",width:"60","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeName",label:"门店名称","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeManager",label:"店长","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"stateName",label:"门店状态","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"ownerList",label:"所有者","show-overflow-tooltip":"",formatter:e.formatOwner}}),e._v(" "),r("el-table-column",{attrs:{prop:"driverid",label:"终端ID","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"storePro",label:"省份","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeCity",label:"城市","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"address",label:"地址","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeIcon",align:"center",label:"店铺图标","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.storeIcon?r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("div",{class:e.prefixCls+"-table-view-icon"},[r("img",{attrs:{src:t.row.storeIcon}})]),e._v(" "),r("span",{staticClass:"column-img",attrs:{slot:"reference"},slot:"reference"},[e._v("预览")])]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"storeImg",align:"center",label:"店铺图片","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.storeImg?r("el-popover",{attrs:{placement:"right",trigger:"hover"}},[r("div",{class:e.prefixCls+"-table-view-img"},[r("img",{attrs:{src:t.row.storeImg}})]),e._v(" "),r("span",{staticClass:"column-img",attrs:{slot:"reference"},slot:"reference"},[e._v("预览")])]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"advertisement",label:"广告语","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"storeDesc",label:"描述","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"remarks",label:"备注","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"createTime",align:"center",label:"添加时间","show-overflow-tooltip":"",formatter:e.formatTime}}),e._v(" "),r("el-table-column",{attrs:{prop:"updateTime",align:"center",label:"更新时间","show-overflow-tooltip":"",formatter:e.formatTime}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){e.handleOwnerProfit(t.row.storeId)}}},[e._v("分润设置")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(r){e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(r){e.handleDelete(t.row.storeId)}}},[e._v("删除")])]}}])})],1),e._v(" "),r("div",{class:e.prefixCls+"-pagination"},[r("el-pagination",{attrs:{background:"","current-page":e.listQuery.currentPage,"page-sizes":[10,20,30,50],"page-size":e.listQuery.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),r("el-dialog",{class:e.prefixCls+"-dialog",attrs:{title:e.dialogType[e.dialogStatus],visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.storeTemp,"label-position":"right","label-width":"150px"}},[r("el-form-item",{attrs:{label:"门店名称",prop:"storeName"}},[r("el-input",{attrs:{maxlength:"50"},model:{value:e.storeTemp.storeName,callback:function(t){e.$set(e.storeTemp,"storeName",t)},expression:"storeTemp.storeName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"门店状态",prop:"state"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择门店状态"},model:{value:e.storeTemp.state,callback:function(t){e.$set(e.storeTemp,"state",t)},expression:"storeTemp.state"}},e._l(e.statusOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"店长",prop:"storeManager"}},[r("el-input",{attrs:{maxlength:"20"},model:{value:e.storeTemp.storeManager,callback:function(t){e.$set(e.storeTemp,"storeManager",t)},expression:"storeTemp.storeManager"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"所有者",prop:"ownerList"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择所有者"},model:{value:e.storeTemp.ownerList,callback:function(t){e.$set(e.storeTemp,"ownerList",t)},expression:"storeTemp.ownerList"}},e._l(e.orgOptions,function(e){return r("el-option",{key:e.organizationId,attrs:{label:e.ownerName,value:e.organizationId}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"省份",prop:"storePro"}},[r("el-input",{attrs:{maxlength:"20"},model:{value:e.storeTemp.storePro,callback:function(t){e.$set(e.storeTemp,"storePro",t)},expression:"storeTemp.storePro"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"城市",prop:"storeCity"}},[r("el-input",{attrs:{maxlength:"20"},model:{value:e.storeTemp.storeCity,callback:function(t){e.$set(e.storeTemp,"storeCity",t)},expression:"storeTemp.storeCity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"地址",prop:"address"}},[r("el-input",{attrs:{maxlength:"50"},model:{value:e.storeTemp.address,callback:function(t){e.$set(e.storeTemp,"address",t)},expression:"storeTemp.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"经度",prop:"storeLocationX"}},[r("el-input",{attrs:{type:"number"},model:{value:e.storeTemp.storeLocationX,callback:function(t){e.$set(e.storeTemp,"storeLocationX",e._n(t))},expression:"storeTemp.storeLocationX"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"纬度",prop:"storeLocationY"}},[r("el-input",{attrs:{type:"number"},model:{value:e.storeTemp.storeLocationY,callback:function(t){e.$set(e.storeTemp,"storeLocationY",e._n(t))},expression:"storeTemp.storeLocationY"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"终端ID",prop:"driverid"}},[r("el-select",{staticClass:"filter-item",attrs:{multiple:"",placeholder:"请选择终端名称"},model:{value:e.storeTemp.driverid,callback:function(t){e.$set(e.storeTemp,"driverid",t)},expression:"storeTemp.driverid"}},e._l(e.terminalUnboundOptios,function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),r("el-form-item",{ref:"storeIcon",attrs:{label:"店铺图标",prop:"storeIcon"}},[r("el-upload",{attrs:{"file-list":e.storeIconFile,action:e.$base_url+"/api/v1/store/upload",limit:1,"on-success":e.onSuccessStoreIcon,"on-error":this.onUploadError},model:{value:e.storeTemp.storeIcon,callback:function(t){e.$set(e.storeTemp,"storeIcon",t)},expression:"storeTemp.storeIcon"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v("  \n          "),r("span",{attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),r("el-form-item",{ref:"storeImg",attrs:{label:"店铺图片",prop:"storeImg"}},[r("el-upload",{attrs:{"file-list":e.storeImgFile,action:e.$base_url+"/api/v1/store/upload",limit:1,"on-success":e.onSuccessStoreImg,"on-error":this.onUploadError},model:{value:e.storeTemp.storeImg,callback:function(t){e.$set(e.storeTemp,"storeImg",t)},expression:"storeTemp.storeImg"}},[r("el-button",{attrs:{type:"primary"}},[e._v("点击上传")]),e._v("  \n          "),r("span",{attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"广告语",prop:"advertisement"}},[r("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.storeTemp.advertisement,callback:function(t){e.$set(e.storeTemp,"advertisement",t)},expression:"storeTemp.advertisement"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"描述",prop:"storeDesc"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},maxlength:"200",placeholder:"请输入描述"},model:{value:e.storeTemp.storeDesc,callback:function(t){e.$set(e.storeTemp,"storeDesc",t)},expression:"storeTemp.storeDesc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},maxlength:"200",placeholder:"请输入备注"},model:{value:e.storeTemp.remarks,callback:function(t){e.$set(e.storeTemp,"remarks",t)},expression:"storeTemp.remarks"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),"create"==e.dialogStatus?r("el-button",{attrs:{type:"primary"},on:{click:e.createStore}},[e._v("确认")]):r("el-button",{attrs:{type:"primary"},on:{click:e.updateStore}},[e._v("确认")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"设置所有者分润比例",visible:e.dialogOwnerVisible},on:{"update:visible":function(t){e.dialogOwnerVisible=t}}},[r("el-table",{attrs:{data:e.ownerProfitList}},[r("el-table-column",{attrs:{property:"ownerName",label:"所有者"}}),e._v(" "),r("el-table-column",{attrs:{property:"storeName",label:"门店名称"}}),e._v(" "),r("el-table-column",{attrs:{property:"rate",label:"分润比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("div",{staticStyle:{display:"flex"}},[r("el-input-number",{attrs:{controls:!1,min:0,max:1},model:{value:t.row.rate,callback:function(r){e.$set(t.row,"rate",r)},expression:"scope.row.rate"}}),e._v(" "),r("el-button",{attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(r){e.cancelEditProfit(t.row)}}},[e._v("取消")])],1)]:r("span",[e._v(e._s(t.row.rate))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?r("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(r){e.confirmEditProfit(t.row)}}},[e._v("保存")]):r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){t.row.edit=!t.row.edit}}},[e._v("编辑")])]}}])})],1)],1)],1)},[],!1,null,null,null);f.options.__file="index.vue";t.default=f.exports},627:function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"a",function(){return n}),r.d(t,"c",function(){return l});var o=r(634);function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,s;return t=e,s=[{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e&&"number"==typeof e?Object(o.format)(e,t):""}}],(r=null)&&a(t.prototype,r),s&&a(t,s),e}(),i=function(e,t){for(var r=[],a=e;a<=t;)r.push(Object(o.format)(a,"YYYY-MM-DD")),a+=864e5;return r},n=function(e){for(var t=[],r=1;r<13;r++)r<10?t.push("".concat(e,"-0").concat(r)):t.push("".concat(e,"-").concat(r));return t},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e&&"number"==typeof e?Object(o.format)(e,t):""}}}]);