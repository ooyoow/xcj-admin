(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1016:function(e,t,r){var o=r(1017);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(2).default)("33e88f74",o,!0,{})},1017:function(e,t,r){},1052:function(e,t,r){"use strict";r.r(t);r(1016);var o=r(15),a={name:"configure",data:function(){return{prefixCls:"xcj-product-configure",stepActive:1,couponTempOptions:[],washModeOptions:[{label:"模式一",value:1},{label:"模式二",value:2},{label:"模式三",value:3},{label:"模式四",value:4}],fromProduct:this.initProductTemp(),rules:{pType:[{required:!0,message:"终端名称不能为空",trigger:"change"}],advertisement:[{required:!0,message:"广告语不能为空",trigger:"change"}],pAllnum:[{required:!0,message:"发行量不能为空",trigger:"change"}],brand:[{required:!0,message:"商品品牌不能为空",trigger:"change"}],details:[{required:!0,message:"产品详情不能为空",trigger:"change"}],discountRate:[{required:!0,message:"折扣率不能为空",trigger:"change"}],upTime:[{required:!0,message:"上架时间不能为空",trigger:"change"}],downTime:[{required:!0,message:"下架时间不能为空",trigger:"change"}],marketPrice:[{required:!0,message:"市场价不能为空",trigger:"change"}],model:[{required:!0,message:"请选择模式",trigger:"change"}],navigation:[{required:!0,message:"导航不能为空",trigger:"change"}],pCode:[{required:!0,message:"请输入产品编号",trigger:"change"}],pContent:[{required:!0,message:"请输入简介",trigger:"change"}],pCouponId:[{required:!0,message:"请选择优惠券模板",trigger:"change"}],pImg:[{required:!0,message:"请选择风格",trigger:"change"}],pName:[{required:!0,message:"请输入产品名称",trigger:"change"}],pNum:[{required:!0,message:"请输入次数",trigger:"change"}],pRice:[{required:!0,message:"售价不能为空",trigger:"change"}],pSendNum:[{required:!0,message:"请输入赠送次数",trigger:"change"}],pValidateTime:[{required:!0,message:"请选择有效期",trigger:"change"}],recommend:[{required:!0,message:"请输入推荐指数",trigger:"change"}],style:[{required:!0,message:"请选择风格",trigger:"change"}]}}},methods:{handleProductType:function(e){e!==this.fromProduct.pType&&(this.fromProduct.pType=e)},handleNext:function(e){var t=this;this.stepActive=e,2===this.fromProduct.pType&&Object(o.a)({url:"api/v1/templet/queryTemplet",method:"get"}).then(function(e){var r=e.resultObj;t.couponTempOptions=r.map(function(e){return{label:e.couponName,value:e.id}})})},handlePrevious:function(e){this.stepActive=e},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r;(r=t.fromProduct,Object(o.a)({url:"/api/v1/product/addProduct",method:"post",data:r})).then(function(e){t.stepActive=3,t.fromProduct=t.initProductTemp()})})},handleConfirm:function(){this.stepActive=3,this.fromProduct=this.initProductTemp()},stepTitle:function(){return{1:"选择产品分类",2:"填写基本信息"}[this.stepActive]},initProductTemp:function(){return{pType:"",advertisement:"",pAllnum:"",brand:"",details:"",discountRate:"",upTime:"",downTime:"",groupCustomer:"",marketPrice:"",model:"",navigation:"",pCode:"",pContent:"",pCouponId:"",pImg:"",pName:"",pNum:"",pRice:"",pSendNum:"",pValidateTime:"",recommend:"",style:""}}}},l=r(13),i=Object(l.a)(a,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:e.prefixCls},[o("el-steps",{staticClass:"steps",attrs:{active:e.stepActive}},[o("el-step",{attrs:{title:"选择产品分类"}}),e._v(" "),o("el-step",{attrs:{title:"填写产品信息"}}),e._v(" "),o("el-step",{attrs:{title:"配置成功"}})],1),e._v(" "),o("div",{staticClass:"content"},[o("div",{staticClass:"title"},[e._v(e._s(e.stepTitle()))]),e._v(" "),1===e.stepActive?o("div",{staticClass:"step-one"},[o("ul",{staticClass:"product-list"},[o("li",{staticClass:"product-item",on:{click:function(t){e.handleProductType(0)}}},[o("div",[e._v("套餐")]),e._v(" "),0===e.fromProduct.pType?o("div",[o("i",{staticClass:"el-icon-check"})]):e._e()]),e._v(" "),o("li",{staticClass:"product-item",on:{click:function(t){e.handleProductType(1)}}},[o("div",[e._v("限次卡")]),e._v(" "),1===e.fromProduct.pType?o("div",[o("i",{staticClass:"el-icon-check"})]):e._e()]),e._v(" "),o("li",{staticClass:"product-item",on:{click:function(t){e.handleProductType(2)}}},[o("div",[e._v("优惠券")]),e._v(" "),2===e.fromProduct.pType?o("div",[o("i",{staticClass:"el-icon-check"})]):e._e()])]),e._v(" "),o("div",{staticClass:"action"},[o("el-button",{attrs:{type:"primary",disabled:[0,1,2].indexOf(e.fromProduct.pType)<0},on:{click:function(t){e.handleNext(2)}}},[e._v("下一步，填写产品信息")])],1)]):e._e(),e._v(" "),2===e.stepActive?o("div",{staticClass:"step-two"},[o("el-form",{ref:"formProduct",staticClass:"data-form",attrs:{rules:e.rules,model:e.fromProduct,"label-width":"100px"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"form-item",attrs:{label:"产品名称",prop:"pName"}},[o("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.fromProduct.pName,callback:function(t){e.$set(e.fromProduct,"pName",t)},expression:"fromProduct.pName"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"form-item",attrs:{label:"产品品牌",prop:"brand"}},[o("el-input",{attrs:{placeholder:"请输入产品品牌"},model:{value:e.fromProduct.brand,callback:function(t){e.$set(e.fromProduct,"brand",t)},expression:"fromProduct.brand"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"产品编号",prop:"pCode"}},[o("el-input",{attrs:{placeholder:"请输入产品编号"},model:{value:e.fromProduct.pCode,callback:function(t){e.$set(e.fromProduct,"pCode",t)},expression:"fromProduct.pCode"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"市场价",prop:"marketPrice"}},[o("el-input",{attrs:{type:"number",placeholder:"请输入市场价"},model:{value:e.fromProduct.marketPrice,callback:function(t){e.$set(e.fromProduct,"marketPrice",e._n(t))},expression:"fromProduct.marketPrice"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"售价",prop:"pRice"}},[o("el-input",{attrs:{placeholder:"请输入售价"},model:{value:e.fromProduct.pRice,callback:function(t){e.$set(e.fromProduct,"pRice",t)},expression:"fromProduct.pRice"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"发行量",prop:"pAllnum"}},[o("el-input",{attrs:{type:"number",placeholder:"请输入发行量"},model:{value:e.fromProduct.pAllnum,callback:function(t){e.$set(e.fromProduct,"pAllnum",e._n(t))},expression:"fromProduct.pAllnum"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"次数",prop:"pNum"}},[o("el-input",{attrs:{type:"number",placeholder:"请输入售价"},model:{value:e.fromProduct.pNum,callback:function(t){e.$set(e.fromProduct,"pNum",e._n(t))},expression:"fromProduct.pNum"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"赠送次数",prop:"pSendNum"}},[o("el-input",{attrs:{type:"number",placeholder:"请输入赠送次数"},model:{value:e.fromProduct.pSendNum,callback:function(t){e.$set(e.fromProduct,"pSendNum",e._n(t))},expression:"fromProduct.pSendNum"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"推荐指数",prop:"recommend"}},[o("el-input",{attrs:{type:"number",placeholder:"请输入推荐指数"},model:{value:e.fromProduct.recommend,callback:function(t){e.$set(e.fromProduct,"recommend",e._n(t))},expression:"fromProduct.recommend"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"有效期",prop:"pValidateTime"}},[o("el-input",{attrs:{type:"number",placeholder:"请输入有效期/天"},model:{value:e.fromProduct.pValidateTime,callback:function(t){e.$set(e.fromProduct,"pValidateTime",e._n(t))},expression:"fromProduct.pValidateTime"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"折扣率",prop:"discountRate"}},[o("el-input",{attrs:{type:"number",placeholder:"请输入折扣率"},model:{value:e.fromProduct.discountRate,callback:function(t){e.$set(e.fromProduct,"discountRate",e._n(t))},expression:"fromProduct.discountRate"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"洗车模式",prop:"model"}},[o("el-select",{attrs:{placeholder:"请选择洗车模式"},model:{value:e.fromProduct.model,callback:function(t){e.$set(e.fromProduct,"model",t)},expression:"fromProduct.model"}},e._l(e.washModeOptions,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"上架时间",prop:"upTime"}},[o("el-date-picker",{attrs:{placeholder:"请选择上架时间"},model:{value:e.fromProduct.upTime,callback:function(t){e.$set(e.fromProduct,"upTime",t)},expression:"fromProduct.upTime"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"下架时间",prop:"downTime"}},[o("el-date-picker",{attrs:{placeholder:"请选择下架时间"},model:{value:e.fromProduct.downTime,callback:function(t){e.$set(e.fromProduct,"downTime",t)},expression:"fromProduct.downTime"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"导航",prop:"navigation"}},[o("el-input",{attrs:{placeholder:"请输入导航"},model:{value:e.fromProduct.navigation,callback:function(t){e.$set(e.fromProduct,"navigation",t)},expression:"fromProduct.navigation"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"广告语",prop:"advertisement"}},[o("el-input",{attrs:{placeholder:"请输入广告语"},model:{value:e.fromProduct.advertisement,callback:function(t){e.$set(e.fromProduct,"advertisement",t)},expression:"fromProduct.advertisement"}})],1)],1)],1),e._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"简介",prop:"pContent"}},[o("el-input",{attrs:{placeholder:"请输入简介"},model:{value:e.fromProduct.pContent,callback:function(t){e.$set(e.fromProduct,"pContent",t)},expression:"fromProduct.pContent"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"产品详情",prop:"details"}},[o("el-input",{attrs:{placeholder:"请输入产品详情"},model:{value:e.fromProduct.details,callback:function(t){e.$set(e.fromProduct,"details",t)},expression:"fromProduct.details"}})],1)],1)],1),e._v(" "),2===e.fromProduct.pType?o("el-form-item",{attrs:{label:"优惠券模板",prop:"pCouponId"}},[o("el-radio-group",{model:{value:e.fromProduct.pCouponId,callback:function(t){e.$set(e.fromProduct,"pCouponId",t)},expression:"fromProduct.pCouponId"}},e._l(e.couponTempOptions,function(t){return o("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1):o("el-form-item",{attrs:{label:"风格",prop:"style"}},[o("el-radio-group",{model:{value:e.fromProduct.style,callback:function(t){e.$set(e.fromProduct,"style",t)},expression:"fromProduct.style "}},[o("el-radio",{attrs:{label:0}},[o("span",[o("img",{attrs:{src:r(702)}})])]),e._v(" "),o("el-radio",{attrs:{label:1}},[o("span",[o("img",{attrs:{src:r(702)}})])]),e._v(" "),o("el-radio",{attrs:{label:2}},[o("span",[o("img",{attrs:{src:r(702)}})])])],1)],1)],1),e._v(" "),o("div",{staticClass:"action"},[o("el-button",{attrs:{plain:"",disabled:[0,1,2].indexOf(e.fromProduct.pType)<0},on:{click:function(t){e.handlePrevious(1)}}},[e._v("上一步，选择产品分类")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formProduct")}}},[e._v("完成，提交产品")])],1)],1):e._e(),e._v(" "),3===e.stepActive?o("div",{staticClass:"step-three"},[e._m(0),e._v(" "),o("div",{staticClass:"action"},[o("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")])],1)]):e._e()])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"success"},[t("i",{staticClass:"el-icon-circle-check"}),this._v(" "),t("span",[this._v("保存成功！")])])}],!1,null,null,null);i.options.__file="index.vue";t.default=i.exports},702:function(e,t){e.exports="data:image/png;base64,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"}}]);