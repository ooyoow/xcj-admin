(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1028:function(t,e,a){var l=a(1029);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);(0,a(2).default)("604001fb",l,!0,{})},1029:function(t,e,a){},1059:function(t,e,a){"use strict";a.r(e);var l=a(15),r=(a(1028),a(86)),n=a(115),o={name:"Summary",data:function(){return{prefixCls:"xcj-finance-summary",type:1,date:"",keyFigures:[],bigSales:[],productSales:[],storeService:[],ownerProfit:[],orderStats:[]}},created:function(){this.getPageData({type:this.type})},methods:{handleFilterRadioGroup:function(t){this.getPageData({type:this.type})},handleFilterDate:function(t){this.type=4,this.getPageData({type:this.type,start:t[0],end:t[1]})},handleExport:function(){switch(this.type){case 1:case 2:case 3:window.open("".concat(n.baseUrl,"/api/v1/finance/exportGeneral?type=").concat(this.type));break;case 4:var t={type:this.type,start:this.date[0],end:this.date[1]};window.open("".concat(n.baseUrl,"/api/v1/finance/exportGeneral").concat(Object(r.c)(t)))}},getKeyFigures:function(t){var e=this;Object(l.a)({url:"/api/v1/finance/keyFigures",method:"get",params:t}).then(function(t){var a=t.resultObj;t.totalSize;e.keyFigures=a?new Array(a):[]})},getBigSales:function(t){var e=this;Object(l.a)({url:"/api/v1/finance/salesStatistics",method:"get",params:t}).then(function(t){var a=t.resultObj;e.bigSales=a?new Array(a):[]})},getProductSales:function(t){var e=this;Object(l.a)({url:"/api/v1/finance/productSales",method:"get",params:t}).then(function(t){e.productSales=t.resultObj})},getStoreServiceAmount:function(t){var e=this;Object(l.a)({url:"/api/v1/finance/storeServiceStatistics",method:"get",params:t}).then(function(t){e.storeService=t.resultObj})},getOwnerProfitStats:function(t){var e=this;Object(l.a)({url:"/api/v1/finance/profitStatistics",method:"get",params:t}).then(function(t){e.ownerProfit=t.resultObj})},getOrderStats:function(t){var e=this;Object(l.a)({url:"/api/v1/finance/orderStatistics",method:"get",params:t}).then(function(t){var a=t.resultObj;e.orderStats=a?new Array(a):[]})},getPageData:function(t){this.getKeyFigures(t),this.getBigSales(t),this.getProductSales(t),this.getStoreServiceAmount(t),this.getOwnerProfitStats(t),this.getOrderStats(t)}}},s=a(13),i=Object(s.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.prefixCls},[a("div",{staticClass:"filter-container"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.handleExport}},[t._v("导出数据")]),t._v(" "),a("el-radio-group",{on:{change:t.handleFilterRadioGroup},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:1}},[t._v("全部")]),t._v(" "),a("el-radio-button",{attrs:{label:2}},[t._v("最近30天")]),t._v(" "),a("el-radio-button",{attrs:{label:3}},[t._v("最近90天")])],1),t._v(" "),a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{input:t.handleFilterDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("div",{staticClass:"stats-item"},[a("div",{staticClass:"category"},[t._v("关键指标")]),t._v(" "),a("el-table",{attrs:{data:t.keyFigures,border:""}},[a("el-table-column",{attrs:{prop:"washAmount",label:"洗车总量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serveAmount",label:"服务总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"salesAmount",label:"销售总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"actualSalesAmount",label:"到账服务总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unActualSalesAmount",label:"未分到账服务总额",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"stats-item"},[a("div",{staticClass:"category"},[t._v("大类销量统计")]),t._v(" "),a("el-table",{attrs:{data:t.bigSales,border:""}},[a("el-table-column",{attrs:{prop:"packageAmount",label:"套餐销售总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"limitCardAmount",label:"限次卡销售总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"couponGiveAmount",label:"优惠券赠送总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"couponSalesAmount",label:"优惠券销售总额",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"stats-item"},[a("div",{staticClass:"category"},[t._v("产品销量统计")]),t._v(" "),a("el-table",{attrs:{data:t.productSales,border:""}},[a("el-table-column",{attrs:{prop:"pName",label:"产品名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"saleCount",label:"销量",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"stats-item"},[a("div",{staticClass:"category"},[t._v("门店服务额统计")]),t._v(" "),a("el-table",{attrs:{data:t.storeService,border:""}},[a("el-table-column",{attrs:{prop:"storeName",label:"门店名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"washAmount",label:"洗车量",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"servieAmount",label:"服务额",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"stats-item"},[a("div",{staticClass:"category"},[t._v("所有者分润统计")]),t._v(" "),a("el-table",{attrs:{data:t.ownerProfit,border:""}},[a("el-table-column",{attrs:{prop:"ownerName",label:"所有者",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"门店",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"realAmount",label:"到账服务总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shareAmount",label:"分润额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"分润比例",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.rate)+"%")]}}])})],1)],1),t._v(" "),a("div",{staticClass:"stats-item"},[a("div",{staticClass:"category"},[t._v("订单统计")]),t._v(" "),a("el-table",{attrs:{data:t.orderStats,border:""}},[a("el-table-column",{attrs:{prop:"saleOrderCount",label:"销售订单总数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unServerOrderCount",label:"待服务订单总数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unServerOrderAmount",label:"待服务订单总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unPaidOrderCount",label:"待付款订单总数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unPaidOrderAmount",label:"待付款订单总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"refundOrderCount",label:"退款订单总数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"退款订单总额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"couponGiveCount",label:"优惠劵赠送总数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"couponSaleAmount",label:"优惠劵销售总数",align:"center"}})],1)],1)])},[],!1,null,null,null);i.options.__file="index.vue";e.default=i.exports}}]);